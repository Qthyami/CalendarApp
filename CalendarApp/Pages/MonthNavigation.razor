<div class="month-navigation">
    <div class="month-navigation__left">
        <IconButton
            Class="month-navigation__button month-navigation__button--start"
            Icon="IconsEnum.ChevronDoubleLeft" 
            OnClick="GoToStartYear" />
        <IconButton 
            Class="month-navigation__button month-navigation__button--prev" 
            Icon="IconsEnum.ChevronLeft" 
            OnClick="GoToPreviousMonth" />
    </div>

    <div class="month-navigation__title">@SelectedMonthStartDate.ToString("MMMM yyyy", System.Globalization.CultureInfo.InvariantCulture)</div>

    <div class="month-navigation__right">
        <IconButton Class="month-navigation__button month-navigation__button--next"
            Icon="IconsEnum.ChevronRight"   
            OnClick="GoToNextMonth" />
        <IconButton 
            Class="month-navigation__button month-navigation__button--end" 
            Icon="IconsEnum.ChevronDoubleRight" 
            OnClick="GoToEndYear" />
    </div>
</div>
@code {
    [Parameter] public DateTime SelectedMonthStartDate { get; set; }
    [Parameter] public EventCallback<DateTime> SelectedMonthStartDateChanged { get; set; }

    private async void HandleMonthChanged(DateTime monthStartDate) {
        SelectedMonthStartDate = monthStartDate;
        await SelectedMonthStartDateChanged.InvokeAsync(monthStartDate);
    }

    private async void GoToPreviousMonth() => HandleMonthChanged(SelectedMonthStartDate.AddMonths(-1));

    private async void GoToNextMonth() => HandleMonthChanged(SelectedMonthStartDate.AddMonths(1));

    private void GoToStartYear() => HandleMonthChanged(MonthNavigationHelpers.GetStartYear(SelectedMonthStartDate));

    private void GoToEndYear() => HandleMonthChanged(MonthNavigationHelpers.GetEndYear(SelectedMonthStartDate));
}
